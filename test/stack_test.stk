.text
  a
  READ
  PRINT
  10
  PRINT

  # Devrait afficher 0
  # Début READ : 1 élément dans la liste
  # On le pop (=> taille pile : 0)
  # On met à jour stack_pointer (= 65536)
  # Puis seulement on READ
  # Ensuite on fait 65535 - stack_pointer + 48
  # (48 : code ASCII de 0; 65535 : adresse initiale du sommet de la pile)
  # (voir commentaires dans STKCompiler.mll)
  65535
  stack_pointer
  SUB
  48
  ADD
  PRINT

  10
  PRINT
  a
  READ
  PRINT
  10
  PRINT

  # Même raisonnement qu'avant
  # La pile avant et après la séquence 10; PRINT; a; READ; PRINT; 10; PRINT
  # a exactement le même état
  65535
  stack_pointer
  SUB
  48
  ADD
  PRINT

  10
  PRINT

  # Devrait afficher 1 cette fois
  a
  65535
  stack_pointer
  SUB
  48
  ADD
  PRINT

  10
  PRINT
  
  # 2 (le a précédent n'a pas été pop)
  a
  65535
  stack_pointer
  SUB
  48
  ADD
  PRINT

  10
  PRINT
  EXIT

.data
  a: 97